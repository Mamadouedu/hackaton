{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Elohim Mickael\\\\talentmatch\\\\src\\\\contexts\\\\AuthContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useState, useEffect, useContext } from 'react';\n\n// Créer le contexte\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/createContext();\n\n// Hook personnalisé pour utiliser le contexte\nexport function useAuth() {\n  _s();\n  return useContext(AuthContext);\n}\n\n// Fournisseur du contexte\n_s(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport function AuthProvider({\n  children\n}) {\n  _s2();\n  const [currentUser, setCurrentUser] = useState(null);\n  const [userType, setUserType] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  // Fonction pour se connecter\n  const login = async (email, password) => {\n    try {\n      if (!email || !password) {\n        throw new Error(\"Email et mot de passe requis\");\n      }\n\n      // Déterminer le type d'utilisateur basé sur l'email\n      // Si l'email contient \"recruit\", c'est un recruteur, sinon c'est un candidat\n      const type = email.toLowerCase().includes('recruit') ? 'recruiter' : 'candidate';\n\n      // Créer un utilisateur fictif\n      const user = {\n        uid: 'user-' + Date.now(),\n        email: email,\n        type: type\n      };\n\n      // Stocker les informations dans localStorage pour la persistance\n      localStorage.setItem('user', JSON.stringify(user));\n\n      // Mettre à jour l'état\n      setCurrentUser(user);\n      setUserType(type);\n      return {\n        user,\n        type\n      };\n    } catch (error) {\n      console.error(\"Erreur de connexion:\", error);\n      throw error;\n    }\n  };\n\n  // Fonction pour s'inscrire en tant que recruteur\n  const signupRecruiter = async userData => {\n    try {\n      // Créer un utilisateur recruteur\n      const user = {\n        uid: 'user-' + Date.now(),\n        email: userData.email,\n        type: 'recruiter',\n        companyName: userData.companyName,\n        fullName: userData.fullName,\n        position: userData.position\n        // Autres informations du formulaire si nécessaire\n      };\n\n      // Stocker les informations dans localStorage\n      localStorage.setItem('user', JSON.stringify(user));\n\n      // Mettre à jour l'état\n      setCurrentUser(user);\n      setUserType('recruiter');\n      return {\n        user,\n        type: 'recruiter'\n      };\n    } catch (error) {\n      console.error(\"Erreur d'inscription recruteur:\", error);\n      throw error;\n    }\n  };\n\n  // Fonction pour s'inscrire en tant que candidat\n  const signupCandidate = async userData => {\n    try {\n      // Créer un utilisateur candidat\n      const user = {\n        uid: 'user-' + Date.now(),\n        email: userData.email,\n        type: 'candidate',\n        firstName: userData.firstName,\n        lastName: userData.lastName\n        // Autres informations du formulaire si nécessaire\n      };\n\n      // Stocker les informations dans localStorage\n      localStorage.setItem('user', JSON.stringify(user));\n\n      // Mettre à jour l'état\n      setCurrentUser(user);\n      setUserType('candidate');\n      return {\n        user,\n        type: 'candidate'\n      };\n    } catch (error) {\n      console.error(\"Erreur d'inscription candidat:\", error);\n      throw error;\n    }\n  };\n\n  // Fonction pour se déconnecter\n  const logout = () => {\n    localStorage.removeItem('user');\n    setCurrentUser(null);\n    setUserType(null);\n  };\n\n  // Vérifier si l'utilisateur est déjà connecté au chargement\n  useEffect(() => {\n    const storedUser = localStorage.getItem('user');\n    if (storedUser) {\n      const user = JSON.parse(storedUser);\n      setCurrentUser(user);\n      setUserType(user.type);\n    }\n    setLoading(false);\n  }, []);\n\n  // Valeurs à fournir dans le contexte\n  const value = {\n    currentUser,\n    userType,\n    login,\n    signupRecruiter,\n    signupCandidate,\n    logout,\n    loading\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: value,\n    children: !loading && children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 5\n  }, this);\n}\n_s2(AuthProvider, \"UqATS9vKTGnGY288JAaGQoEcoLw=\");\n_c = AuthProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["React","createContext","useState","useEffect","useContext","jsxDEV","_jsxDEV","AuthContext","useAuth","_s","AuthProvider","children","_s2","currentUser","setCurrentUser","userType","setUserType","loading","setLoading","login","email","password","Error","type","toLowerCase","includes","user","uid","Date","now","localStorage","setItem","JSON","stringify","error","console","signupRecruiter","userData","companyName","fullName","position","signupCandidate","firstName","lastName","logout","removeItem","storedUser","getItem","parse","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Elohim Mickael/talentmatch/src/contexts/AuthContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect, useContext } from 'react';\r\n\r\n// Créer le contexte\r\nconst AuthContext = createContext();\r\n\r\n// Hook personnalisé pour utiliser le contexte\r\nexport function useAuth() {\r\n  return useContext(AuthContext);\r\n}\r\n\r\n// Fournisseur du contexte\r\nexport function AuthProvider({ children }) {\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const [userType, setUserType] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // Fonction pour se connecter\r\n  const login = async (email, password) => {\r\n    try {\r\n      if (!email || !password) {\r\n        throw new Error(\"Email et mot de passe requis\");\r\n      }\r\n      \r\n      // Déterminer le type d'utilisateur basé sur l'email\r\n      // Si l'email contient \"recruit\", c'est un recruteur, sinon c'est un candidat\r\n      const type = email.toLowerCase().includes('recruit') ? 'recruiter' : 'candidate';\r\n      \r\n      // Créer un utilisateur fictif\r\n      const user = {\r\n        uid: 'user-' + Date.now(),\r\n        email: email,\r\n        type: type\r\n      };\r\n      \r\n      // Stocker les informations dans localStorage pour la persistance\r\n      localStorage.setItem('user', JSON.stringify(user));\r\n      \r\n      // Mettre à jour l'état\r\n      setCurrentUser(user);\r\n      setUserType(type);\r\n      \r\n      return { user, type };\r\n    } catch (error) {\r\n      console.error(\"Erreur de connexion:\", error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  // Fonction pour s'inscrire en tant que recruteur\r\n  const signupRecruiter = async (userData) => {\r\n    try {\r\n      // Créer un utilisateur recruteur\r\n      const user = {\r\n        uid: 'user-' + Date.now(),\r\n        email: userData.email,\r\n        type: 'recruiter',\r\n        companyName: userData.companyName,\r\n        fullName: userData.fullName,\r\n        position: userData.position,\r\n        // Autres informations du formulaire si nécessaire\r\n      };\r\n      \r\n      // Stocker les informations dans localStorage\r\n      localStorage.setItem('user', JSON.stringify(user));\r\n      \r\n      // Mettre à jour l'état\r\n      setCurrentUser(user);\r\n      setUserType('recruiter');\r\n      \r\n      return { user, type: 'recruiter' };\r\n    } catch (error) {\r\n      console.error(\"Erreur d'inscription recruteur:\", error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  // Fonction pour s'inscrire en tant que candidat\r\n  const signupCandidate = async (userData) => {\r\n    try {\r\n      // Créer un utilisateur candidat\r\n      const user = {\r\n        uid: 'user-' + Date.now(),\r\n        email: userData.email,\r\n        type: 'candidate',\r\n        firstName: userData.firstName,\r\n        lastName: userData.lastName,\r\n        // Autres informations du formulaire si nécessaire\r\n      };\r\n      \r\n      // Stocker les informations dans localStorage\r\n      localStorage.setItem('user', JSON.stringify(user));\r\n      \r\n      // Mettre à jour l'état\r\n      setCurrentUser(user);\r\n      setUserType('candidate');\r\n      \r\n      return { user, type: 'candidate' };\r\n    } catch (error) {\r\n      console.error(\"Erreur d'inscription candidat:\", error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  // Fonction pour se déconnecter\r\n  const logout = () => {\r\n    localStorage.removeItem('user');\r\n    setCurrentUser(null);\r\n    setUserType(null);\r\n  };\r\n\r\n  // Vérifier si l'utilisateur est déjà connecté au chargement\r\n  useEffect(() => {\r\n    const storedUser = localStorage.getItem('user');\r\n    \r\n    if (storedUser) {\r\n      const user = JSON.parse(storedUser);\r\n      setCurrentUser(user);\r\n      setUserType(user.type);\r\n    }\r\n    \r\n    setLoading(false);\r\n  }, []);\r\n\r\n  // Valeurs à fournir dans le contexte\r\n  const value = {\r\n    currentUser,\r\n    userType,\r\n    login,\r\n    signupRecruiter,\r\n    signupCandidate,\r\n    logout,\r\n    loading\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {!loading && children}\r\n    </AuthContext.Provider>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}